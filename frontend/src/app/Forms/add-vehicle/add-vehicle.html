<div
  class="fixed inset-0 bg-black/70 backdrop-blur-sm flex justify-center items-center z-50 p-4"
  *ngIf="isModalOpen"
>
  <!-- Modal Container -->
  <div
    class="bg-slate-800 p-8 rounded-2xl shadow-2xl w-full max-w-md border border-slate-700 relative"
  >
    <!-- Close Button -->
    <button
      type="button"
      (click)="closeForm()"
      class="absolute top-4 right-4 text-slate-500 hover:text-white transition-colors"
    >
      <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none"
        viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
          d="M6 18L18 6M6 6l12 12" />
      </svg>
    </button>

    <!-- Header -->
    <h2 class="text-2xl font-bold text-white mb-6 text-center">
      {{ isEditMode ? 'Update Vehicle' : 'Add New Vehicle' }}
    </h2>

    <!-- Form -->
    <form (ngSubmit)="submitForm()" class="space-y-5">

      <!-- Vehicle Number -->
      <div>
        <label class="block text-sm font-medium text-slate-300 mb-2">
          Vehicle Number
        </label>
        <input
          [(ngModel)]="newVehicle.vehicleNumber"
          name="vehicleNumber"
          type="text"
          class="w-full px-4 py-3 bg-slate-900 border border-slate-600 rounded-lg text-white
                 placeholder-slate-500 focus:outline-none focus:ring-2
                 focus:ring-indigo-500 transition-all"
          placeholder="e.g. BA 2 PA 1234"
          required
        />
      </div>

      <!-- Vehicle Type -->
      <div>
        <label class="block text-sm font-medium text-slate-300 mb-2">
          Vehicle Type
        </label>
        <select
          [(ngModel)]="newVehicle.vehicleType"
          name="vehicleType"
          class="w-full px-4 py-3 bg-slate-900 border border-slate-600 rounded-lg text-white
                 focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-all"
          required
        >
          <option value="" disabled>Select vehicle type</option>
          <option value="Bus">Bus</option>
          <option value="Micro">Micro</option>
          <option value="Van">Van</option>
        </select>
      </div>

      <!-- Capacity -->
      <div>
        <label class="block text-sm font-medium text-slate-300 mb-2">
          Capacity
        </label>
        <input
          [(ngModel)]="newVehicle.capacity"
          name="capacity"
          type="number"
          class="w-full px-4 py-3 bg-slate-900 border border-slate-600 rounded-lg text-white
                 placeholder-slate-500 focus:outline-none focus:ring-2
                 focus:ring-indigo-500 transition-all"
          placeholder="e.g. 40"
          required
        />
      </div>




      
      <!-- Route Selection -->
<div>
  <label class="block text-sm font-medium text-slate-300 mb-2">
    Assign Route
  </label>

  <select
    [(ngModel)]="newVehicle.routeId"
    name="routeId"
    class="w-full px-4 py-3 bg-slate-900 border border-slate-600 rounded-lg text-white
           focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-all"
    required
  >
    <option value="0" disabled>Select a route</option>

    <option *ngFor="let route of routes" [value]="route.routeId">
      {{ route.source }} â†’ {{ route.destination }}
    </option>
  </select>
</div>







      <!-- Action Buttons -->
      <div class="flex gap-3 mt-8">
        <!-- Cancel -->
        <button
          type="button"
          (click)="closeForm()"
          class="flex-1 px-6 py-3 bg-slate-700 text-slate-200 rounded-lg
                 hover:bg-slate-600 transition-colors font-medium"
        >
          Cancel
        </button>

        <!-- Submit -->
        <button
          type="submit"
          class="flex-1 px-6 py-3 bg-linear-to-r from-indigo-600 to-purple-600
                 text-white rounded-lg hover:shadow-lg
                 hover:shadow-indigo-500/30 transition-all font-semibold"
        >
          {{ isEditMode ? 'Update Vehicle' : 'Add Vehicle' }}
        </button>
      </div>

    </form>
  </div>
</div>
